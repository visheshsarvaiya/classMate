{"version":3,"file":"zod-helpers.js","sources":["../../../src/components/SmartForm/zod-helpers.ts"],"sourcesContent":["import { ZodEffects, ZodType } from \"zod\";\n\nexport enum ZodFieldType {\n  OBJECT = \"ZodObject\",\n  STRING = \"ZodString\",\n  NUMBER = \"ZodNumber\",\n  BOOLEAN = \"ZodBoolean\",\n}\n\nexport function getZodField(obj: ZodType) {\n  const zodFieldName = getZodFieldTypeName(obj) as ZodFieldType;\n  if (!Object.values(ZodFieldType).includes(zodFieldName)) {\n    throw new Error(\n      `getZodField Error: Only ${Object.values(ZodFieldType).join(`, `)} ZodTypes are supported, received ${zodFieldName}.`,\n    );\n  }\n  // type will be ZodEffects if the schema / field has refine or superRefine effects\n  if (obj instanceof ZodEffects && obj._def.schema instanceof ZodType) {\n    return obj._def.schema;\n  }\n  return obj;\n}\n\n/**\n * Recursively check for obj.innerType, etc to find the deepest `typeName`\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any -- This is a generic zod type, we can't use `unknown` here\nexport function getZodFieldTypeName(obj: ZodType<any, any, any>): string {\n  if (\n    \"schema\" in obj._def &&\n    obj instanceof ZodEffects &&\n    obj._def.schema instanceof ZodType\n  ) {\n    return getZodFieldTypeName(obj._def.schema);\n  }\n\n  if (\"innerType\" in obj._def) {\n    return getZodFieldTypeName((obj._def as { innerType: ZodType }).innerType);\n  }\n\n  if (\n    \"typeName\" in obj._def &&\n    typeof (obj._def as { typeName: unknown }).typeName === \"string\"\n  ) {\n    return (obj._def as { typeName: string }).typeName;\n  }\n  throw new Error(\"getZodFieldTypeName: Unable to determine field type\");\n}\n"],"names":["ZodFieldType"],"mappings":";AAEY,IAAA,iCAAAA,kBAAL;AACLA,gBAAA,QAAS,IAAA;AACTA,gBAAA,QAAS,IAAA;AACTA,gBAAA,QAAS,IAAA;AACTA,gBAAA,SAAU,IAAA;AAJAA,SAAAA;AAAA,GAAA,gBAAA,CAAA,CAAA;AAOL,SAAS,YAAY,KAAc;AAClC,QAAA,eAAe,oBAAoB,GAAG;AAC5C,MAAI,CAAC,OAAO,OAAO,YAAY,EAAE,SAAS,YAAY,GAAG;AACvD,UAAM,IAAI;AAAA,MACR,2BAA2B,OAAO,OAAO,YAAY,EAAE,KAAK,IAAI,CAAC,qCAAqC,YAAY;AAAA,IACpH;AAAA,EAAA;AAGF,MAAI,eAAe,cAAc,IAAI,KAAK,kBAAkB,SAAS;AACnE,WAAO,IAAI,KAAK;AAAA,EAAA;AAEX,SAAA;AACT;AAMO,SAAS,oBAAoB,KAAqC;AAErE,MAAA,YAAY,IAAI,QAChB,eAAe,cACf,IAAI,KAAK,kBAAkB,SAC3B;AACO,WAAA,oBAAoB,IAAI,KAAK,MAAM;AAAA,EAAA;AAGxC,MAAA,eAAe,IAAI,MAAM;AACpB,WAAA,oBAAqB,IAAI,KAAgC,SAAS;AAAA,EAAA;AAG3E,MACE,cAAc,IAAI,QAClB,OAAQ,IAAI,KAA+B,aAAa,UACxD;AACA,WAAQ,IAAI,KAA8B;AAAA,EAAA;AAEtC,QAAA,IAAI,MAAM,qDAAqD;AACvE;"}